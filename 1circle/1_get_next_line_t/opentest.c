#include <stdio.h>
#include <fcntl.h>
#include <unistd.h>
#include <stdlib.h>

int	main()
{
	char *fname = "./test.txt";
	//char *str = "things are great";
	//char buff[500]i;
	char *buff2;
	int	fd;
	int buffer_size;

	buffer_size = 100;
	buff2 = (char *)malloc(buffer_size * sizeof(char) + 1);
	buff2[buffer_size] = 0;
	/*if ((fd = open(fname, O_CREAT, S_IRWXU)) < 0)
		fprintf(stderr, "open error for %s\n", fname);
	printf("Success!\n Filename : %s\n Descriptor : %d\n", fname, fd);*/

	/*if ((fd = open(fname, O_RDWR)) < 0)
		fprintf(stderr, "open error for %s\n", fname);
	while (*str)
		write(fd, str++, 1);*/

	if ((fd = open(fname, O_RDONLY)) > 0)
	{
		//read(fd, buff, 500);
		//printf("%s\n", buff);
		while ((read(fd, buff2, buffer_size)) > 0)
		{
				printf("%s\n", buff2);
		}
		close(fd);
	}
	else
		printf("File open failed");
}
